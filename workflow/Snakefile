import os
import gzip
import sys

configfile: "config/config.yaml"

container: "continuumio/miniconda3:4.8.2"


OUTDIR = config["outdir"]

include: "rules/mapping.smk"
include: "rules/calling.smk"
#include: "rules/qc.smk"
#include: "rules/stargazer.smk"
#include: "rules/report.smk"

# Target rules #

if config["datatype"] == "ILLUMINA":

    rule all:
        input:
            expand(f"{OUTDIR}/{{sample}}/minimap2/{{sample}}.illumina.sorted.bam",
                sample=config["samples"])
